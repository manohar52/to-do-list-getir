(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{104:function(e,t,a){e.exports=a(139)},109:function(e,t,a){},110:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),i=(a(109),a(110),a(16)),o=a(85),u=a(13),s=a(37),d=a(182),m=a(183),E=a(181),f=a(184),b=a(189),v=a(179),O=a(173),k=a(33),h=a(83),p=a.n(h),S=a(84),g=a.n(S),j=a(172),C=a(90),T=a(26),_=a(187),y=a(175),D=a(176),A=a(185),w=a(178),L=a(188),N=a(180),K=a(76),R=a.n(K).a.create({baseURL:"http://localhost:4000/"}),x=R.get,q=R.post,U=R.put,I=R.delete,P=a(43),z=function(e){var t=e.task,a=e.showDetail,c=e.setShowDetail,l=Object(n.useState)(""),i=Object(s.a)(l,2),o=i[0],u=i[1],d=Object(n.useState)((null===t||void 0===t?void 0:t.isComplete)||!1),m=Object(s.a)(d,2),f=m[0],b=m[1],v=Object(k.c)(),O=Object(P.b)().enqueueSnackbar;Object(n.useEffect)((function(){t?(u(null===t||void 0===t?void 0:t.name),b(null===t||void 0===t?void 0:t.isComplete)):(u(""),b(!1))}),[t]);var h=function(){""!=o?function(e){return U("/tasks/".concat(e._id),e)}(Object(T.a)(Object(T.a)({},t),{},{name:o,isComplete:f})).then((function(e){v(function(e){return{type:"UPDATE_TASK",data:e}}(e.data)),c(!1),O("Task updated!",{variant:"success"})})).catch((function(e){O(e,{variant:"error"})})):O("Task Name is required",{variant:"error"})},p=function(){""!=o?function(e){return q("/tasks",e)}({name:o,isComplete:f}).then((function(e){v(function(e){return{type:"ADD_NEW",data:e}}(e.data)),c(!1),O("Task created!",{variant:"success"})})).catch((function(e){O(e,{variant:"error"})})):O("Task Name is required",{variant:"error"})};return r.a.createElement(_.a,{open:a,onClose:function(){return c(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(y.a,null,"Task Detail"),r.a.createElement(D.a,null,r.a.createElement("div",null,r.a.createElement(A.a,{required:!0,id:"outlined-required",label:"Task Name",onChange:function(e){return u(e.target.value)},defaultValue:o}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(w.a,{control:r.a.createElement(L.a,{checked:f,onChange:function(){return b(!f)}}),label:"Complete",labelPlacement:"start"})))),r.a.createElement(N.a,null,t?r.a.createElement(E.a,{onClick:function(){return h()}},"Update"):r.a.createElement(E.a,{onClick:function(){return p()}},"Create")))},G=a(82),J=a.n(G),M=function(e){var t=e.handleYes,a=e.showConf,n=e.setShowConf;return r.a.createElement(_.a,{open:a,onClose:function(){return n(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(y.a,null,"Confirmation"),r.a.createElement(D.a,null,"Are you sure you want to continue?"),r.a.createElement(N.a,null,r.a.createElement(E.a,{variant:"primary",onClick:function(){return t()}},"Proceed"),r.a.createElement(E.a,{onClick:function(){return n(!1)}},"Cancel")))},V=Object(j.a)({container:{marginLeft:"auto",marginRight:"auto",width:"30em"},task:{"&:hover":{cursor:"pointer",backgroundColor:"grey"}}}),W=Object(k.b)((function(e){return{isLoading:e.isLoading,tasks:e.tasks,error:e.error}}))((function(e){var t=e.isLoading,a=e.tasks,c=e.error,l=Object(n.useState)(!1),i=Object(s.a)(l,2),o=i[0],u=i[1],h=Object(n.useState)(null),S=Object(s.a)(h,2),j=S[0],T=S[1],_=Object(n.useState)(!1),y=Object(s.a)(_,2),D=y[0],A=y[1],w=Object(P.b)().enqueueSnackbar,L=Object(k.c)(),N=function(){var e;j&&(e=j,I("/tasks/".concat(e._id))).then((function(e){L(function(e){return{type:"DELETE_TASK",data:e}}(e.data)),w("Task deleted!",{variant:"success"})})).catch((function(e){w(e,{variant:"error"})})),A(!1)},K=V();return c?r.a.createElement("p",null,"Unable to load data"):t?r.a.createElement(d.a,null):r.a.createElement("div",{className:K.container},r.a.createElement(C.a,{variant:"h3"},"To-do List"),r.a.createElement(m.a,null),r.a.createElement("br",null),r.a.createElement(E.a,{variant:"contained",onClick:function(){T(null),u(!0)}},"Create new task"),a.map((function(e){return r.a.createElement("div",{key:null===e||void 0===e?void 0:e._id},r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0,xs:1},r.a.createElement(b.a,{title:"Remove Task"},r.a.createElement(v.a,{style:{marginTop:"0.75em"},onClick:function(){T(e),A(!0)}},r.a.createElement(J.a,{fontSize:"small"})))),r.a.createElement(f.a,{item:!0,xs:11},r.a.createElement(O.a,{className:K.task,onClick:function(){T(e),u(!0)}},r.a.createElement(f.a,{style:{margin:"1em"},container:!0,spacing:2},r.a.createElement(f.a,{item:!0,xs:10},null===e||void 0===e?void 0:e.name),r.a.createElement(f.a,{item:!0,xs:2},(null===e||void 0===e?void 0:e.isComplete)?r.a.createElement(p.a,{style:{color:"green"}}):r.a.createElement(g.a,{style:{color:"yellow"}})))))))})),r.a.createElement(z,{task:j,showDetail:o,setShowDetail:u}),r.a.createElement(M,{handleYes:function(){return N()},showConf:D,setShowConf:A}))})),X=Object(i.b)(),Y=function(){return r.a.createElement(o.a,{history:X},r.a.createElement("div",null,r.a.createElement(u.c,null,r.a.createElement(u.a,{to:"/",component:W,exact:!0}))))},B=a(55),F={isLoading:!0,tasks:[],error:null},H=a(87),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||B.b,Z=Object(B.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"LOADING_TASKS":return Object(T.a)(Object(T.a)({},e),{},{isLoading:!0});case"LOADED_TASKS":return Object(T.a)(Object(T.a)({},e),{},{isLoading:!1,tasks:n});case"ERROR_TASKS":return Object(T.a)(Object(T.a)({},e),{},{isLoading:!1,error:n});case"ADD_NEW":return e.tasks.push(n),e;case"UPDATE_TASK":var r=e.tasks.findIndex((function(e){return e._id===n._id}));return e.tasks[r]=n,e;case"DELETE_TASK":var c=e.tasks.filter((function(e){return e._id!==n._id}));return Object(T.a)(Object(T.a)({},e),{},{tasks:c});default:return e}}),Q(Object(B.a)(H.a)));Z.dispatch((function(e){e({type:"LOADING_TASKS",data:[]}),x("/tasks/").then((function(t){e({type:"LOADED_TASKS",data:t.data})})).catch((function(t){e(function(e){return{type:"ERROR_TASKS",data:e}}(t))}))}));var $=function(){return r.a.createElement("div",null,r.a.createElement(k.a,{store:Z},r.a.createElement(P.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(Y,null))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.7060885f.chunk.js.map